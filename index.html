<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web ÊèêË©ûÂô® (Teleprompter)</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Noto+Sans+TC:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#3b82f6">
    <link rel="apple-touch-icon" href="assets/icons/icon-192x192.png">
</head>

<body>
    <div class="app-container">
        <!-- ÊèêË©ûÈ°ØÁ§∫ÂçÄ (Prompter Display) -->
        <main class="teleprompter-display" id="displayArea">
            <div class="scroll-wrapper" id="scrollWrapper">
                <div class="scroll-content" id="scrollContent">
                    <!-- ÊñáÂ≠óÂÖßÂÆπÂ∞áÁî± JS ÂãïÊÖãÊèíÂÖ•ÊàñÂêåÊ≠• -->
                    <div class="text-placeholder">Ë´ãÂú®‰∏ãÊñπËº∏ÂÖ•ÊñáÂ≠ó...</div>
                </div>
            </div>
            <!-- Èè°ÂÉèÂèçËΩâÊèêÁ§∫ (ÂèØÈÅ∏) -->
            <div class="flip-indicator" id="flipIndicator">FLIPPED</div>

            <!-- Ë¶ñÁ∑öÂºïÂ∞éÁ∑ö -->
            <div class="guide-line" id="guideLine"></div>

            <!-- ÂÄíÊï∏Ë®àÊôÇÈÅÆÁΩ© -->
            <div class="countdown-overlay" id="countdownOverlay">3</div>

            <!-- ÂÖ®Ëû¢ÂπïÊåâÈàï -->
            <button id="btnFullscreen" class="btn-exit btn-fullscreen" title="ÂÖ®Ëû¢ÂπïÂàáÊèõ">‚õ∂</button>
            <!-- ÈÄÄÂá∫Êí≠ÊîæÊåâÈàï -->
            <button id="btnExit" class="btn-exit" title="ÈÄÄÂá∫Êí≠Êîæ">‚úï</button>
        </main>

        <!-- ÊéßÂà∂Èù¢Êùø (Control Panel) -->
        <aside class="control-panel">
            <div class="panel-header">
                <h1>ÊèêË©ûÂô® Teleprompter</h1>
            </div>

            <div class="panel-content">
                <!-- ÊñáÂ≠óËº∏ÂÖ•ÂçÄ -->
                <div class="control-group">
                    <div class="control-label-row">
                        <label for="scriptInput">ÊèêË©ûÁ®øÂÖßÂÆπ</label>
                        <div class="button-group">
                            <button type="button" id="btnPaste" class="btn-paste" title="Ë≤º‰∏äÂâ™Ë≤ºÁ∞øÂÖßÂÆπ">
                                üìã Ë≤º‰∏ä
                            </button>
                            <button type="button" id="btnClear" class="btn-clear" title="Ê∏ÖÈô§ÂÖßÂÆπ">
                                üóëÔ∏è Ê∏ÖÈô§
                            </button>
                        </div>
                    </div>
                    <textarea id="scriptInput" placeholder="Âú®Ê≠§Ëº∏ÂÖ•ÊàñË≤º‰∏äÊºîË¨õÁ®ø..."></textarea>
                </div>

                <!-- Ë®≠ÂÆöÊéßÂà∂ -->
                <div class="settings-grid">
                    <div class="control-group">
                        <button id="btnPlayPause" class="btn primary">
                            <span class="icon">‚ñ∂</span> Êí≠Êîæ
                        </button>
                    </div>

                    <div class="control-group">
                        <label for="fontSelect">Â≠óÈ´îÈÅ∏Êìá</label>
                        <select id="fontSelect">
                            <option value="'Noto Sans TC', sans-serif">Noto Sans TC (È†êË®≠)</option>
                            <option value="'Inter', sans-serif">Inter</option>
                            <option value="Arial, sans-serif">Arial</option>
                            <option value="'Microsoft JhengHei', sans-serif">ÂæÆËªüÊ≠£ÈªëÈ´î</option>
                            <option value="'PingFang TC', sans-serif">ËòãÊñπ-ÁπÅ</option>
                            <option value="'Times New Roman', serif">Times New Roman</option>
                        </select>
                    </div>

                    <div class="control-group">
                        <label for="fontSizeSlider">Â≠óÈ´îÂ§ßÂ∞è <span id="fontSizeDisplay">48px</span></label>
                        <input type="range" id="fontSizeSlider" min="20" max="150" value="48" step="2">
                    </div>

                    <div class="control-group">
                        <label for="speedSlider">ÊªæÂãïÈÄüÂ∫¶ <span id="speedDisplay">0</span></label>
                        <input type="range" id="speedSlider" min="0" max="100" value="3" step="1">
                    </div>

                    <div class="control-group">
                        <label for="marginSlider">Â∑¶Âè≥ÈÇäË∑ù <span id="marginDisplay">5%</span></label>
                        <input type="range" id="marginSlider" min="0" max="40" value="5" step="1">
                    </div>

                    <div class="control-group">
                        <label for="guideHeightSlider">ÂºïÂ∞éÁ∑öÈ´òÂ∫¶ <span id="guideHeightDisplay">50%</span></label>
                        <input type="range" id="guideHeightSlider" min="10" max="90" value="50" step="1">
                    </div>

                    <div class="control-group countdown-control">
                        <label for="countdownToggle" class="checkbox-label">
                            <span>ÂÄíÊï∏ 3 Áßí</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="countdownToggle" checked>
                                <span class="slider round"></span>
                            </div>
                        </label>
                        </label>
                    </div>

                    <div class="control-group">
                        <label for="flipToggle" class="checkbox-label">
                            <span>‰∏ä‰∏ãÂèçËΩâ</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="flipToggle" checked>
                                <span class="slider round"></span>
                            </div>
                        </label>
                    </div>

                    <div class="control-group">
                        <label>üì± ÊâãÊ©üÈÅôÊéß</label>
                        <div class="qrcode-container" id="qrcodeContainer">
                            <div class="qrcode-loading">ËºâÂÖ•‰∏≠...</div>
                        </div>
                        <div class="remote-url" id="remoteUrl"></div>
                        <div class="connection-info" id="connectionInfo">
                            <span class="ws-status" id="wsStatus">Êú™ÈÄ£Á∑ö</span>
                        </div>
                    </div>
                </div>

                <!-- Êìç‰ΩúÊåâÈàï (Â∑≤ÁßªËá≥‰∏äÊñπÊàñÊï¥ÂêàËá≥ Grid) -->
                <div class="action-buttons" style="display: none;"></div>
            </div>

            <div class="panel-footer">
                <a href="https://github.com/mch000534/teleprompter" target="_blank" class="github-link"
                    title="GitHub Repository">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="feather feather-github">
                        <path
                            d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
                        </path>
                    </svg>
                    <span>GitHub</span>
                </a>
            </div>
        </aside>
    </div>

    <script src="assets/js/app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(registration => {
                        console.log('SW registered: ', registration);
                    }).catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</body>

</html>