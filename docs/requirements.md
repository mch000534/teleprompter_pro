# 提詞器 Web 應用需求規格書 (Requirements Specification)

## 1. 專案概述 (Project Overview)
本專案旨在開發一個基於 Web 的簡單提詞器 (Teleprompter) 應用程式。用戶可以透過瀏覽器輸入需要演講或錄製的文字稿，並在螢幕上以自動滾動方式播放。本專案的核心特色在於支援反射式提詞硬體所需的「畫面上下反轉」功能，並允許用戶自定義閱讀體驗。

## 2. 用戶故事與驗收標準 (User Stories & Acceptance Criteria)

### 2.1 內容創作者 (Content Creator)
**故事**：作為一名內容創作者，我希望能在網頁上直接貼上腳本，不需要下載額外軟體，以便快速開始錄製。

**驗收標準 (Acceptance Criteria)**：
- **AC 1.1**: 基本文字輸入
    - **Given** 用戶打開提詞器網頁
    - **When** 用戶在輸入框中貼上一段 500 字的腳本
    - **Then** 輸入框應完整顯示所有文字，且網頁不應卡頓
- **AC 1.2**: 一鍵貼上
    - **Given** 用戶剪貼簿中有文字內容
    - **When** 用戶點擊「貼上」按鈕
    - **Then** 剪貼簿的內容應自動填入輸入框的游標位置或後方
- **AC 1.3**: 清除內容
    - **Given** 輸入框中有文字內容
    - **When** 用戶點擊「清除」按鈕
    - **Then** 應跳出確認對話框
    - **When** 用戶確認清除
    - **Then** 輸入框與提詞顯示區的內容應被清空

### 2.2 演講者 (Speaker)
**故事**：作為一名演講者，我希望能調整文字大小，因為我站立的距離可能不同。

**驗收標準 (Acceptance Criteria)**：
- **AC 2.1**: 調整字體大小
    - **Given** 用戶已輸入文字，目前字體為預設大小
    - **When** 用戶拖動「字體大小」滑桿向右 (變大)
    - **Then** 預覽畫面中的文字應即時變大

### 2.3 主持人 (Host)
**故事**：作為一名主持人，我希望能調整滾動速度，因為我說話的語速會改變。

**驗收標準 (Acceptance Criteria)**：
- **AC 3.1**: 調整播放速度
    - **Given** 文字正在播放滾動中
    - **When** 用戶將「速度」滑桿調整至最大
    - **Then** 文字向上滾動的速度應顯著變快
- **AC 3.2**: 手勢手動微調
    - **Given** 處於沉浸式播放模式
    - **When** 用戶在觸控螢幕上拖曳手指
    - **Then** 文字應跟隨手指移動方向進行滾動，且暫停自動播放 (若正在播放)

### 2.4 專業錄製者 (Pro Recorder)
**故事**：作為一名專業錄製者，我需要畫面能夠「上下反轉」，因為我使用的是搭配分光鏡的專業提詞硬體。

**驗收標準 (Acceptance Criteria)**：
- **AC 4.1**: 畫面上下反轉
    - **Given** 用戶準備開始錄製
    - **When** 用戶點擊「上下反轉」按鈕
    - **Then** 整個提詞畫面的文字內容應呈現上下顛倒 (Vertical Flip) 的狀態
- **AC 4.2**: 反轉狀態下的播放
    - **Given** 畫面處於「上下反轉」狀態
    - **When** 用戶點擊「播放」按鈕
    - **Then** 文字應依然能夠正常向上 (在反轉視角下看起來是向下) 滾動

### 2.5 沉浸式閱讀 (Immersive Reading)
**故事**：作為使用者，我希望在播放時能隱藏設定面板，並有一條視線引導線，讓我能專注於閱讀並保持視線水平。

**驗收標準 (Acceptance Criteria)**：
- **AC 5.1**: 播放時隱藏全頁控制項
    - **Given** 用戶處於編輯模式 (控制面板全頁顯示)
    - **When** 用戶點擊「播放」
    - **Then** 控制面板應完全消失 (display: none)，提詞顯示區顯示並擴展至全螢幕
- **AC 5.2**: 視線引導線
    - **Given** 處於播放模式
    - **Then** 畫面正中央應顯示一條半透明白色的水平線，且不隨文字滾動移動
- **AC 5.3**: 退出播放按鈕
    - **Given** 處於沉浸式播放模式
    - **Then** 畫面應顯示一個「退出」或「X」按鈕
    - **When** 點擊該按鈕
    - **Then** 應停止播放並退出沉浸模式 (恢復控制面板)
- **AC 5.4**: 全螢幕按鈕
    - **Given** 處於沉浸式播放模式
    - **Then** 畫面應顯示一個「全螢幕」按鈕
    - **When** 點擊該按鈕
    - **Then** 瀏覽器應進入/退出原生全螢幕模式 (隱藏網址列與分頁)

### 2.6 版面微調 (Layout Fine-tuning)
**故事**：用戶希望能調整文字左右邊距，以適應不同大小的螢幕或視窗。

**驗收標準**：
- **AC 6.1**: 調整文字邊距
    - **Given** 編輯或預覽模式
    - **When** 調整「邊距」滑桿
    - **Then** 顯示區文字的左右留白應即時改變
- **AC 6.2**: Flip Indicator 樣式
    - **Then** `FLIPPED` 提示的背景色應為深灰色

### 2.7 手勢控制 (Gesture Control)
**故事**：作為一名使用者，我希望能透過簡單的手勢快速控制提詞器，無需精確點擊按鈕。

**驗收標準 (Acceptance Criteria)**：
- **AC 7.1**: 上下滑動控制速度
    - **Given** 用戶處於手勢控制頁面
    - **When** 用戶在觸控區向上滑動
    - **Then** 提詞器速度應增加
    - **When** 用戶向下滑動
    - **Then** 提詞器速度應減少
- **AC 7.2**: 左右滑動控制播放方向
    - **Given** 用戶處於手勢控制頁面
    - **When** 用戶向右滑動
    - **Then** 提詞器應正向播放
    - **When** 用戶向左滑動
    - **Then** 提詞器應倒播
- **AC 7.3**: 單擊暫停/繼續
    - **Given** 用戶處於手勢控制頁面
    - **When** 用戶單擊觸控區
    - **Then** 提詞器應暫停或繼續播放（保持原有方向）
- **AC 7.4**: 自動開始播放
    - **Given** 用戶進入手勢控制頁面
    - **Then** 提詞器應自動開始全螢幕播放

## 3. 具體需求 (Specific Requirements)

### 3.1 核心功能
1.  **文字輸入與編輯**
    - 提供文字輸入區域 (Textarea)。
    - **快速操作**：提供「貼上」與「清除」按鈕 (含確認防呆)。
    - 支援長文本輸入。
2.  **播放控制**
    - **播放/暫停**：控制文字滾動的開始與停止。
    - **倒數計時**：可切換開啟/關閉的 3 秒倒數計時功能 (預設開啟)。
    - **重置**：退出播放模式時自動回到文章開頭 (獨立重置按鈕已移除)。
3.  **參數調整**
    - **文字大小 (Font Size)**：透過滑桿 (Slider) 或按鈕即時調整文字顯示大小。
    - **播放速度 (Scroll Speed)**：透過滑桿即時調整文字向上滾動的速度。
4.  **視覺變換**
    - **上下反轉 (Flip Vertical)**：輸出的播放畫面必須支援上下顛倒顯示 (CSS `transform: scaleY(-1)` 或 `rotate(180deg)`)。
        - *註：雖然通常鏡像需要左右反轉，但依照用戶明確需求，此處實作「上下反轉」。*

### 3.2 使用者介面 (UI)
- **編輯模式**：顯示輸入框與設定面板。
- **播放模式**：全螢幕或最大化顯示滾動文字，背景為全黑，文字為高對比色 (白或黃)。

## 4. 技術要求 (Technical Requirements)
- **架構**：純前端靜態網頁 (Single Page Application)。
- **語言**：
    - HTML5
    - CSS3 (使用 Flexbox/Grid 佈局，CSS Transforms 處理反轉)
    - JavaScript (ES6+, Vanilla JS，不需依賴龐大框架)
- **儲存**：若需暫存用戶輸入，可使用瀏覽器 `localStorage` (選用)。
- **效能**：滾動需流暢 (建議使用 `requestAnimationFrame` 或 CSS Animation 實作滾動機制)。

## 5. 範例場景 (Example Scenario)
1.  用戶打開網頁。
2.  在輸入框貼上：「各位觀眾大家好，歡迎收看今天的晚間新聞...」。
3.  用戶覺得預設字體太小，拉動「字體大小」滑桿將字體調大。
4.  用戶將平板電腦放入提詞架，點擊「上下反轉」按鈕，文字現在變成上下顛倒。
5.  用戶按下「開始播放」，文字以設定的速度緩緩向上流動。
6.  用戶發現速度太快，使用鍵盤或點擊畫面暫停，調整速度滑桿後繼續。

## 6. 專案目錄結構 (Project Directory Structure)
建議的檔案結構如下：

```
teleprompter/
├── index.html          # 應用程式入口與結構
├── assets/
│   ├── css/
│   │   └── style.css   # 樣式設計 (包含 Dark Mode, Flip 效果)
│   └── js/
│   │   └── app.js      # 應用邏輯 (滾動計算, 事件監聽)
└── requirements.md     # 本需求文件
```
